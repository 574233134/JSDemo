<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>简单CSS动画</title>
    <link rel="stylesheet" type="text/css" href="tost.css">

</head>
<body>
<div id="dvCBs">
    <input type="checkbox" name="cb" value="1" />cb1
    <br /><input type="checkbox" name="cb" value="2" />cb2
    <br /><input type="checkbox" name="cb" value="3" />cb3
</div>
<script>
    var dv = document.getElementById('dvCBs'), cbs = dv.getElementsByTagName('input');
    dv.onclick = function (e) {
        e = e || window.event;
        var o = e.target || e.srcElement;
        if (o.type == 'checkbox') {
            var vs = '';
            for (var i = 0; i < cbs.length; i++)
                if (cbs[i].checked) vs += ',' + cbs[i].value;
            document.cookie = 'vs=' + vs.substring(1);//存储选中的checkbook的值
        }
    }
    var m = /(^| |;)vs=([^;]+)/.exec(document.cookie);
    if (m) {//cookie中有值，初始化勾选状态
        var arr = m[2].split(',');
        for(var j=0;j<arr.length;j++)
            for(var i=0;i<cbs.length;i++)
                if (cbs[i].value == arr[j]) { cbs[i].checked = true; break;}
    }
</script>
</body>
</html>
